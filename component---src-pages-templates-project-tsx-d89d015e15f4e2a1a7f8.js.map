{"version":3,"file":"component---src-pages-templates-project-tsx-d89d015e15f4e2a1a7f8.js","mappings":"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","sources":["webpack://code-cave/./src/components/projects/carouselDotsButtonsArrows.tsx","webpack://code-cave/./node_modules/yet-another-react-lightbox/dist/types.js","webpack://code-cave/./node_modules/yet-another-react-lightbox/dist/index.js","webpack://code-cave/./node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js","webpack://code-cave/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js","webpack://code-cave/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js","webpack://code-cave/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js","webpack://code-cave/./src/components/projects/screenshotsCarousel.tsx","webpack://code-cave/./src/components/projects/projectDescriptionSection.tsx","webpack://code-cave/./src/components/projects/stackOrTeamCard.tsx","webpack://code-cave/./src/pagesTemplates/project.tsx","webpack://code-cave/./node_modules/embla-carousel-autoplay/esm/embla-carousel-autoplay.esm.js"],"sourcesContent":["import React from \"react\";\n\nimport {\n  IDotButtonPropType,\n  IPrevNextButtonPropType,\n} from \"../../types/carousel.type\";\n\nexport const DotButton = ({ selected, onClick }: IDotButtonPropType) => {\n  return (\n    <button\n      aria-label=\"view image\"\n      className={\"bg-transparent touch-manipulation inline-flex w-12 h-12 after:rounded-sm flex items-center mx-1.5 md:mx-3 after:bg-main-10 after:w-full after:h-1.5 after:content-['']\".concat(\n        selected ? \" after:bg-secondary-100\" : \"\"\n      )}\n      type=\"button\"\n      onClick={onClick}\n    />\n  );\n};\n\nexport const PrevButton = ({ enabled, onClick }: IPrevNextButtonPropType) => {\n  return (\n    <button\n      aria-label=\"previous image\"\n      className=\"bg-transparent touch-manipulation flex z-10 text-main-70 absolute flex items-center justify-center top-1/2 -translate-y-1/2 w-10 md:w-16 h-10 md:h-16 left-0 disabled:opacity-30\"\n      onClick={onClick}\n      disabled={!enabled}\n    >\n      <svg className=\"w-2/3 h-2/3\" viewBox=\"137.718 -1.001 366.563 644\">\n        <path\n          fill=\"#f9f9f9\"\n          d=\"M428.36 12.5c16.67-16.67 43.76-16.67 60.42 0 16.67 16.67 16.67 43.76 0 60.42L241.7 320c148.25 148.24 230.61 230.6 247.08 247.08 16.67 16.66 16.67 43.75 0 60.42-16.67 16.66-43.76 16.67-60.42 0-27.72-27.71-249.45-249.37-277.16-277.08a42.308 42.308 0 0 1-12.48-30.34c0-11.1 4.1-22.05 12.48-30.42C206.63 234.23 400.64 40.21 428.36 12.5z\"\n        />\n      </svg>\n    </button>\n  );\n};\n\nexport const NextButton = ({ enabled, onClick }: IPrevNextButtonPropType) => {\n  return (\n    <button\n      aria-label=\"next image\"\n      className=\"bg-transparent touch-manipulation flex z-10 text-main-70 absolute flex items-center justify-center top-1/2 -translate-y-1/2 w-10 md:w-16 h-10 md:h-16 right-0 disabled:opacity-30\"\n      onClick={onClick}\n      disabled={!enabled}\n    >\n      <svg className=\"w-2/3 h-2/3\" viewBox=\"0 0 238.003 238.003\">\n        <path\n          fill=\"#f9f9f9\"\n          d=\"M181.776 107.719L78.705 4.648c-6.198-6.198-16.273-6.198-22.47 0s-6.198 16.273 0 22.47l91.883 91.883-91.883 91.883c-6.198 6.198-6.198 16.273 0 22.47s16.273 6.198 22.47 0l103.071-103.039a15.741 15.741 0 0 0 4.64-11.283c0-4.13-1.526-8.199-4.64-11.313z\"\n        />\n      </svg>\n    </button>\n  );\n};\n","const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst CLASS_SLIDE_WRAPPER_INTERACTIVE = \"slide_wrapper_interactive\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };\n","'use client';\nimport * as React from 'react';\nimport { IMAGE_FIT_COVER, IMAGE_FIT_CONTAIN, ACTION_CLOSE, MODULE_CONTROLLER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_CANCEL, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_WHEEL, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, MODULE_PORTAL, CLASS_FLEX_CENTER, MODULE_CAROUSEL, CLASS_SLIDE_WRAPPER, VK_ARROW_RIGHT, VK_ARROW_LEFT, VK_ESCAPE, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FULLSIZE, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [...classes].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix) => composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return () => {\n        cleaners.forEach((cleaner) => {\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return () => {\n        const ctx = React.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return typeof window !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return { pixel: input };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? { percent: value } : { pixel: value };\n    }\n    return { pixel: 0 };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? (containerRect.width / 100) * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0),\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? ((index % slidesCount) + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction getSlideKey(slide) {\n    return isImageSlide(slide) ? slide.src : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button)\n        return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item) => item === key);\n    const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, { key }, null) : button;\n    if (index >= 0) {\n        const result = [...buttons];\n        result.splice(index, 1, buttonWithKey);\n        return { buttons: result, ...restToolbar };\n    }\n    return { buttons: [buttonWithKey, ...buttons], ...restToolbar };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event) => {\n        event.stopPropagation();\n    };\n    return { onPointerDown: stopPropagation, onKeyDown: stopPropagation, onWheel: stopPropagation };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst isReact19 = Number(React.version.split(\".\")[0]) >= 19;\nfunction makeInertWhen(condition) {\n    const legacyValue = condition ? \"\" : undefined;\n    return { inert: isReact19 ? condition : legacyValue };\n}\n\nconst LightboxDefaultProps = {\n    open: false,\n    close: () => { },\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: { buttons: [ACTION_CLOSE] },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\",\n        },\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: IMAGE_FIT_CONTAIN,\n        imageProps: {},\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false,\n    },\n    portal: {},\n    noScroll: {\n        disabled: false,\n    },\n    on: {},\n    styles: {},\n    className: \"\",\n};\n\nfunction createModule(name, component) {\n    return { name, component };\n}\nfunction createNode(module, children) {\n    return { module, children };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n) => { var _a; return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : []; })),\n        ];\n    }\n    return [node];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node) => { var _a; return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : []; });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target) => {\n        const nodes = [...config];\n        while (nodes.length > 0) {\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target)\n                return true;\n            if (node === null || node === void 0 ? void 0 : node.children)\n                nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module) => {\n        if (target === \"\") {\n            config = [createNode(module, config)];\n            return;\n        }\n        config = traverse(config, target, (node) => [createNode(module, [node])]);\n    };\n    const append = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(node.module, [createNode(module, node.children)])]);\n    };\n    const addChild = (target, module, precede) => {\n        config = traverse(config, target, (node) => {\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...(precede ? [createNode(module)] : []),\n                    ...((_a = node.children) !== null && _a !== void 0 ? _a : []),\n                    ...(!precede ? [createNode(module)] : []),\n                ]),\n            ];\n        });\n    };\n    const addSibling = (target, module, precede) => {\n        config = traverse(config, target, (node) => [\n            ...(precede ? [createNode(module)] : []),\n            node,\n            ...(!precede ? [createNode(module)] : []),\n        ]);\n    };\n    const addModule = (module) => {\n        append(MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(module, node.children)]);\n    };\n    const remove = (target) => {\n        config = traverse(config, target, (node) => node.children);\n    };\n    const augment = (augmentation) => {\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin) => {\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment,\n        });\n    });\n    return {\n        config,\n        augmentation: (props) => augmentations.reduce((acc, augmentation) => augmentation(acc), props),\n    };\n}\n\nconst DocumentContext = React.createContext(null);\nconst useDocumentContext = makeUseContext(\"useDocument\", \"DocumentContext\", DocumentContext);\nfunction DocumentContextProvider({ nodeRef, children }) {\n    const context = React.useMemo(() => {\n        const getOwnerDocument = (node) => { var _a; return ((_a = (node || nodeRef.current)) === null || _a === void 0 ? void 0 : _a.ownerDocument) || document; };\n        const getOwnerWindow = (node) => { var _a; return ((_a = getOwnerDocument(node)) === null || _a === void 0 ? void 0 : _a.defaultView) || window; };\n        return { getOwnerDocument, getOwnerWindow };\n    }, [nodeRef]);\n    return React.createElement(DocumentContext.Provider, { value: context }, children);\n}\n\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((topic) => delete subscriptions[topic]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb) => cb !== callback));\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event]) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n}\n\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return React.createElement(LightboxPropsContext.Provider, { value: props }, children);\n}\n\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"swipe\": {\n            const { slides } = state;\n            const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n            const globalIndex = state.globalIndex + increment;\n            const currentIndex = getSlideIndex(globalIndex, slides.length);\n            const currentSlide = getSlideIfPresent(slides, currentIndex);\n            const animation = increment || action.duration\n                ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing,\n                }\n                : undefined;\n            return { slides, currentIndex, globalIndex, currentSlide, animation };\n        }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index),\n                };\n            }\n            return state;\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = React.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index),\n    });\n    React.useEffect(() => {\n        dispatch({ type: \"update\", slides, index });\n    }, [slides, index]);\n    const context = React.useMemo(() => ({ ...state, state, dispatch }), [state, dispatch]);\n    return (React.createElement(LightboxDispatchContext.Provider, { value: dispatch },\n        React.createElement(LightboxStateContext.Provider, { value: context }, children)));\n}\n\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = React.useState([]);\n    React.useEffect(() => () => {\n        timeouts.forEach((tid) => window.clearTimeout(tid));\n        timeouts.splice(0, timeouts.length);\n    }, [timeouts]);\n    const context = React.useMemo(() => {\n        const removeTimeout = (id) => {\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid) => tid !== id));\n        };\n        const setTimeout = (fn, delay) => {\n            const id = window.setTimeout(() => {\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id) => {\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return { setTimeout, clearTimeout };\n    }, [timeouts]);\n    return React.createElement(TimeoutsContext.Provider, { value: context }, children);\n}\n\nconst IconButton = React.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    const buttonLabel = label(labels, label$1);\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", title: buttonLabel, \"aria-label\": buttonLabel, className: clsx(cssClass(ELEMENT_BUTTON), className), onClick: onClick, style: { ...style, ...styles.button }, ...rest }, renderIcon ? renderIcon() : React.createElement(Icon, { className: cssClass(ELEMENT_ICON), style: styles.icon })));\n});\n\nfunction svgIcon(name, children) {\n    const icon = (props) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", \"aria-hidden\": \"true\", focusable: \"false\", ...props }, children));\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, React.createElement(\"g\", { fill: \"currentColor\" },\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n        glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, React.createElement(React.Fragment, null,\n        React.createElement(\"defs\", null,\n            React.createElement(\"mask\", { id: \"strike\" },\n                React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"white\" }),\n                React.createElement(\"path\", { d: \"M0 0L24 24\", stroke: \"black\", strokeWidth: 4 }))),\n        React.createElement(\"path\", { d: \"M0.70707 2.121320L21.878680 23.292883\", stroke: \"currentColor\", strokeWidth: 2 }),\n        React.createElement(\"g\", { fill: \"currentColor\", mask: \"url(#strike)\" },\n            React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n            glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", { d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" }));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", { d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" }));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({ length: 8 }).map((_, index, array) => (React.createElement(\"line\", { key: index, x1: \"12\", y1: \"6.5\", x2: \"12\", y2: \"1.8\", strokeLinecap: \"round\", strokeWidth: \"2.6\", stroke: \"currentColor\", strokeOpacity: (1 / array.length) * (index + 1), transform: `rotate(${(360 / array.length) * index}, 12, 12)` })))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", { d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\" }));\n\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\n\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = React.useState(false);\n    React.useEffect(() => {\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event) => setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return () => { var _a; return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener); };\n    }, []);\n    return reduceMotion;\n}\n\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        }\n        else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return { x, y, z };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = React.useRef();\n    const animation = React.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(() => {\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, { duration, easing });\n                }\n                catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = () => {\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot) => {\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: () => { var _a; return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\"; },\n    };\n}\n\nfunction useContainerRect() {\n    const containerRef = React.useRef(null);\n    const observerRef = React.useRef();\n    const [containerRect, setContainerRect] = React.useState();\n    const setContainerRef = React.useCallback((node) => {\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = () => {\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value) => parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom)),\n                });\n            }\n            else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return { setContainerRef, containerRef, containerRect };\n}\n\nfunction useDelay() {\n    const timeoutId = React.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return React.useCallback((callback, delay) => {\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [setTimeout, clearTimeout]);\n}\n\nfunction useEventCallback(fn) {\n    const ref = React.useRef(fn);\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\n}\n\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return React.useMemo(() => refA == null && refB == null\n        ? null\n        : (refValue) => {\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [refA, refB]);\n}\n\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = React.useRef();\n    useLayoutEffect(() => {\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [disabled, focus]);\n    const onFocus = React.useCallback(() => {\n        focused.current = true;\n    }, []);\n    const onBlur = React.useCallback(() => {\n        focused.current = false;\n    }, []);\n    return { onFocus, onBlur };\n}\n\nfunction useRTL() {\n    const [isRTL, setIsRTL] = React.useState(false);\n    useLayoutEffect(() => {\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\n\nfunction useSensors() {\n    const [subscribers] = React.useState({});\n    const notifySubscribers = React.useCallback((type, event) => {\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n            if (!event.isPropagationStopped())\n                listener(event);\n        });\n    }, [subscribers]);\n    const registerSensors = React.useMemo(() => ({\n        onPointerDown: (event) => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n        onPointerMove: (event) => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n        onPointerUp: (event) => notifySubscribers(EVENT_ON_POINTER_UP, event),\n        onPointerLeave: (event) => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n        onPointerCancel: (event) => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n        onKeyDown: (event) => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n        onKeyUp: (event) => notifySubscribers(EVENT_ON_KEY_UP, event),\n        onWheel: (event) => notifySubscribers(EVENT_ON_WHEEL, event),\n    }), [notifySubscribers]);\n    const subscribeSensors = React.useCallback((type, callback) => {\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return () => {\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el) => el !== callback));\n            }\n        };\n    }, [subscribers]);\n    return { registerSensors, subscribeSensors };\n}\n\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = React.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args) => {\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return React.useCallback((...args) => {\n        delayCallback(() => {\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [delay, executeCallback, delayCallback]);\n}\n\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, onError, style, }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset === 0) {\n            publish(activeSlideStatus(status));\n        }\n    }, [offset, status, publish]);\n    const handleLoading = useEventCallback((img) => {\n        (\"decode\" in img ? img.decode() : Promise.resolve())\n            .catch(() => { })\n            .then(() => {\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(SLIDE_STATUS_COMPLETE);\n            setTimeout(() => {\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = React.useCallback((img) => {\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [handleLoading]);\n    const handleOnLoad = React.useCallback((event) => {\n        handleLoading(event.currentTarget);\n    }, [handleLoading]);\n    const handleOnError = useEventCallback(() => {\n        setStatus(SLIDE_STATUS_ERROR);\n        onError === null || onError === void 0 ? void 0 : onError();\n    });\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback) => (Number.isFinite(value) ? value : fallback);\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x) => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight\n        ? {\n            maxWidth: `min(${maxWidth}px, 100%)`,\n            maxHeight: `min(${maxHeight}px, 100%)`,\n        }\n        : {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n        };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map((item) => `${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = () => rect && !cover && image.width && image.height ? (rect.height / image.height) * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { ref: setImageRef, onLoad: handleOnLoad, onError: handleOnError, onClick: onClick, draggable: false, className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName), style: { ...defaultStyle, ...style, ...imagePropsStyle }, ...restImageProps, alt: image.alt, sizes: sizes, srcSet: srcSet, src: image.src }),\n        status !== SLIDE_STATUS_COMPLETE && (React.createElement(\"div\", { className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER)) },\n            status === SLIDE_STATUS_LOADING &&\n                ((render === null || render === void 0 ? void 0 : render.iconLoading) ? (render.iconLoading()) : (React.createElement(LoadingIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING))) }))),\n            status === SLIDE_STATUS_ERROR &&\n                ((render === null || render === void 0 ? void 0 : render.iconError) ? (render.iconError()) : (React.createElement(ErrorIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR))) })))))));\n}\n\nconst LightboxRoot = React.forwardRef(function LightboxRoot({ className, children, ...rest }, ref) {\n    const nodeRef = React.useRef(null);\n    return (React.createElement(DocumentContextProvider, { nodeRef: nodeRef },\n        React.createElement(\"div\", { ref: useForkRef(ref, nodeRef), className: clsx(cssClass(\"root\"), className), ...rest }, children)));\n});\n\nvar SwipeState;\n(function (SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\n\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    React.useEffect(() => !disabled\n        ? cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp))\n        : () => { }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\n\nvar Gesture;\n(function (Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef();\n    const startTime = React.useRef(0);\n    const gesture = React.useRef(Gesture.NONE);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold) => (pullDownEnabled && value > threshold) || (pullUpEnabled && value < -threshold);\n    const onPointerUp = useEventCallback((event) => {\n        if (pointers.current.find((x) => x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                    (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                    onSwipeFinish(currentOffset, duration);\n                }\n                else {\n                    onSwipeCancel(currentOffset);\n                }\n            }\n            else if (gesture.current === Gesture.PULL) {\n                if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                    onPullFinish(currentOffset, duration);\n                }\n                else {\n                    onPullCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = pointers.current.find((p) => p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                }\n                else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture) => {\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                }\n                else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            }\n            else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                }\n                else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\n\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY, }) {\n    const ref = React.useRef(null);\n    const listener = useEventCallback((event) => {\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if ((horizontal && preventDefaultWheelX) || (!horizontal && preventDefaultWheelY) || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return React.useCallback((node) => {\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, { passive: false });\n        }\n        else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [listener]);\n}\n\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = React.useRef(0);\n    const intent = React.useRef(0);\n    const intentCleanup = React.useRef();\n    const resetCleanup = React.useRef();\n    const wheelInertia = React.useRef(0);\n    const wheelInertiaCleanup = React.useRef();\n    const startTime = React.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = React.useCallback(() => {\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const cancelSwipeResetCleanup = React.useCallback(() => {\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const handleCleanup = useEventCallback(() => {\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset) => {\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        const setWheelInertia = (inertia) => {\n            wheelInertia.current = inertia;\n            clearTimeout(wheelInertiaCleanup.current);\n            wheelInertiaCleanup.current =\n                inertia > 0\n                    ? setTimeout(() => {\n                        wheelInertia.current = 0;\n                        wheelInertiaCleanup.current = undefined;\n                    }, 300)\n                    : undefined;\n        };\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelInertia.current)) {\n                setWheelInertia(event.deltaX);\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                setWheelInertia(0);\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(() => {\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        }\n        else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                setWheelInertia(event.deltaX);\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        }\n        else {\n            setWheelInertia(event.deltaX);\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\n\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = React.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const pullOffset = React.useRef(0);\n    const pullOpacity = React.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const { getOwnerDocument } = useDocumentContext();\n    const isRTL = useRTL();\n    const rtl = (value) => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const getLightboxState = useEventCallback(() => state);\n    const prev = React.useCallback((params) => publish(ACTION_PREV, params), [publish]);\n    const next = React.useCallback((params) => publish(ACTION_NEXT, params), [publish]);\n    const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n    const isSwipeValid = (offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === state.slides.length - 1)));\n    const setSwipeOffset = (offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset) => {\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (() => {\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (() => {\n                if (closeOnPullDown && offset > 0)\n                    return offset;\n                if (closeOnPullUp && offset < 0)\n                    return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - (offsetValue / threshold) * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity,\n                    },\n                    { transform: \"translate(0, 0)\", opacity: 1 },\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade,\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel) => {\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration,\n                });\n            }\n            cleanupPullOffset(() => {\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? (parsedSpacing.percent * containerRect.width) / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) +\n                            snapshot.rect.x -\n                            rect.x +\n                            translate.x}px, 0)`,\n                    },\n                    { transform: \"translate(0, 0)\" },\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing,\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action) => {\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(() => {\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing,\n        });\n    });\n    React.useEffect(() => {\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(() => dispatch({ type: \"swipe\", increment: 0 }), state.animation.duration);\n        }\n    }, [state.animation, dispatch, cleanupAnimationIncrement]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    const pullParams = [\n        () => {\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset) => setPullOffset(offset),\n        (offset) => pull(offset),\n        (offset) => pull(offset, true),\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        if (controller.focus &&\n            getOwnerDocument().querySelector(`.${cssClass(MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n            focus();\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const onViewCallback = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, { index: state.currentIndex });\n    });\n    React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (action) => swipe({ direction: ACTION_PREV, ...action })), subscribe(ACTION_NEXT, (action) => swipe({ direction: ACTION_NEXT, ...action })), subscribe(ACTION_SWIPE, (action) => dispatch(action))), [subscribe, swipe, dispatch]);\n    const context = React.useMemo(() => ({\n        prev,\n        next,\n        close,\n        focus,\n        slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : { width: 0, height: 0 },\n        containerRect: containerRect || { width: 0, height: 0 },\n        subscribeSensors,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n    }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding,\n    ]);\n    React.useImperativeHandle(controller.ref, () => ({\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState,\n    }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(swipeState === SwipeState.PULL\n                ? {\n                    [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                    [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`,\n                }\n                : null),\n            ...(controller.touchAction !== \"none\" ? { [cssVar(\"controller_touch_action\")]: controller.touchAction } : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"presentation\", \"aria-live\": \"polite\" } : null), tabIndex: -1, ...registerSensors }, containerRect && (React.createElement(ControllerContext.Provider, { value: context },\n        children, (_a = render.controls) === null || _a === void 0 ? void 0 :\n        _a.call(render)))));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n\nfunction cssPrefix$2(value) {\n    return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = React.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close, focus } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style }, } = useLightboxProps();\n    const { getOwnerDocument } = useDocumentContext();\n    const offscreen = offset !== 0;\n    React.useEffect(() => {\n        var _a;\n        if (offscreen && ((_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.contains(getOwnerDocument().activeElement))) {\n            focus();\n        }\n    }, [offscreen, focus, getOwnerDocument]);\n    const renderSlide = () => {\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect: slideRect });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = (React.createElement(ImageSlide, { slide: slide, offset: offset, render: render, rect: slideRect, imageFit: imageFit, imageProps: imageProps, onClick: !offscreen ? () => onClick === null || onClick === void 0 ? void 0 : onClick({ index: currentIndex }) : undefined }));\n        }\n        return rendered ? (React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 :\n            _b.call(render, { slide }),\n            ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : (({ children }) => children))({ slide, children: rendered }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 :\n            _d.call(render, { slide }))) : null;\n    };\n    const handleBackdropClick = (event) => {\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick &&\n            target &&\n            container &&\n            (target === container ||\n                (Array.from(container.children).find((x) => x === target) &&\n                    target.classList.contains(cssClass(CLASS_SLIDE_WRAPPER))))) {\n            close();\n        }\n    };\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssSlidePrefix()), !offscreen && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)), ...makeInertWhen(offscreen), onClick: handleBackdropClick, style: style }, renderSlide()));\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return React.createElement(\"div\", { className: cssClass(\"slide\"), style: style });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const preload = calculatePreload(carousel, slides, 1);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = currentIndex - preload; index <= currentIndex + preload; index += 1) {\n            const slide = getSlide(slides, index);\n            const key = globalIndex - currentIndex + index;\n            const placeholder = carousel.finite && (index < 0 || index > slides.length - 1);\n            items.push(!placeholder\n                ? {\n                    key: [`${key}`, getSlideKey(slide)].filter(Boolean).join(\"|\"),\n                    offset: index - currentIndex,\n                    slide,\n                }\n                : { key });\n        }\n    }\n    return (React.createElement(\"div\", { ref: setCarouselRef, className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))), style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0,\n        } }, items.map(({ key, slide, offset }) => slide ? React.createElement(CarouselSlide, { key: key, slide: slide, offset: offset }) : React.createElement(Placeholder, { key: key }))));\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\n\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || (carousel.finite && currentIndex === 0);\n    const nextDisabled = slides.length === 0 || (carousel.finite && currentIndex === slides.length - 1);\n    return { prevDisabled, nextDisabled };\n}\n\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(() => publish(ACTION_PREV), throttle);\n    const next = useThrottle(() => publish(ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event) => {\n        switch (event.key) {\n            case VK_ESCAPE:\n                publish(ACTION_CLOSE);\n                break;\n            case VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled))\n                    (isRTL ? next : prev)();\n                break;\n            case VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled))\n                    (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n}\n\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return (React.createElement(IconButton, { label: label, icon: icon, renderIcon: renderIcon, className: cssClass(`navigation_${action}`), disabled: disabled, onClick: onClick, style: style, ...useLoseFocus(useController().focus, disabled) }));\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return (React.createElement(React.Fragment, null,\n        buttonPrev ? (buttonPrev()) : (React.createElement(NavigationButton, { label: \"Previous\", action: ACTION_PREV, icon: PreviousIcon, renderIcon: iconPrev, style: styles.navigationPrev, disabled: prevDisabled, onClick: prev })),\n        buttonNext ? (buttonNext()) : (React.createElement(NavigationButton, { label: \"Next\", action: ACTION_NEXT, icon: NextIcon, renderIcon: iconNext, style: styles.navigationNext, disabled: nextDisabled, onClick: next }))));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\n\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return () => {\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    const { getOwnerDocument, getOwnerWindow } = useDocumentContext();\n    React.useEffect(() => {\n        if (disabled)\n            return () => { };\n        const cleanup = [];\n        const ownerWindow = getOwnerWindow();\n        const { body, documentElement } = getOwnerDocument();\n        const scrollbar = Math.round(ownerWindow.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for (let i = 0; i < elements.length; i += 1) {\n                const element = elements[i];\n                if (isHTMLElement(element) &&\n                    ownerWindow.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" &&\n                    !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return () => {\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean) => clean());\n        };\n    }, [rtl, disabled, getOwnerDocument, getOwnerWindow]);\n    return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\n\nfunction cssPrefix$1(value) {\n    return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return () => {\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        }\n        else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const cleanup = React.useRef([]);\n    const restoreFocus = React.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    React.useEffect(() => {\n        setMounted(true);\n        return () => {\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(() => {\n        cleanup.current.forEach((clean) => clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(() => {\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(() => {\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n    const handleEnter = useEventCallback((node) => {\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(() => {\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(() => {\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = React.useCallback((node) => {\n        if (node) {\n            handleEnter(node);\n        }\n        else {\n            handleCleanup();\n        }\n    }, [handleEnter, handleCleanup]);\n    return mounted\n        ? createPortal(React.createElement(LightboxRoot, { ref: handleRef, className: clsx(className, cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))), role: \"presentation\", \"aria-live\": \"polite\", style: {\n                ...(animation.fade !== LightboxDefaultProps.animation.fade\n                    ? { [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms` }\n                    : null),\n                ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade\n                    ? { [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade }\n                    : null),\n                ...styles.root,\n            }, onFocus: (event) => {\n                if (!restoreFocus.current) {\n                    restoreFocus.current = event.relatedTarget;\n                }\n            } }, children), portal.root || document.body)\n        : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\n\nfunction Root({ children }) {\n    return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\n\nfunction cssPrefix(value) {\n    return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(() => {\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n    const renderCloseButton = () => {\n        if (buttonClose)\n            return buttonClose();\n        return React.createElement(IconButton, { key: ACTION_CLOSE, label: \"Close\", icon: CloseIcon, renderIcon: iconClose, onClick: close });\n    };\n    return (React.createElement(\"div\", { ref: setContainerRef, style: styles.toolbar, className: cssClass(cssPrefix()) }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button) => (button === ACTION_CLOSE ? renderCloseButton() : button))));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\n\nfunction renderNode(node, props) {\n    var _a;\n    return React.createElement(node.module.component, { key: node.module.name, ...props }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child) => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: { ...defaultAnimationEasing, ...easing },\n        ...restDefaultAnimation,\n        ...restAnimation,\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule),\n                ]),\n            ]),\n        ]),\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: { ...defaultCarousel, ...carousel },\n        render: { ...defaultRender, ...render },\n        toolbar: { ...defaultToolbar, ...toolbar },\n        controller: { ...defaultController, ...controller },\n        noScroll: { ...defaultNoScroll, ...noScroll },\n        on: { ...defaultOn, ...on },\n        ...restDefaultProps,\n        ...restProps,\n    });\n    if (!props.open)\n        return null;\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(LightboxStateProvider, { slides: slides || defaultSlides, index: parseInt(index || defaultIndex) },\n            React.createElement(TimeoutsProvider, null,\n                React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props))))));\n}\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, DocumentContext, DocumentContextProvider, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxRoot, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, getSlideKey, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeInertWhen, makeUseContext, parseInt, parseLengthPercentage, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useDocumentContext, useEventCallback, useEvents, useForkRef, useKeyboardNavigation, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, useNavigationState, usePointerEvents, usePointerSwipe, usePreventWheelDefaults, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","import * as React from 'react';\nimport { cssClass, useLightboxProps, makeUseContext, useController, clsx, cssVar, createIcon, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { PLUGIN_CAPTIONS } from '../../types.js';\n\nconst cssPrefix = (className) => cssClass(`slide_${className}`);\n\nconst defaultCaptionsProps = {\n    descriptionTextAlign: \"start\",\n    descriptionMaxLines: 3,\n    showToggle: false,\n    hidden: false,\n};\nconst resolveCaptionsProps = (captions) => ({\n    ...defaultCaptionsProps,\n    ...captions,\n});\nfunction useCaptionsProps() {\n    const { captions } = useLightboxProps();\n    return resolveCaptionsProps(captions);\n}\n\nconst CaptionsContext = React.createContext(null);\nconst useCaptions = makeUseContext(\"useCaptions\", \"CaptionsContext\", CaptionsContext);\nfunction CaptionsContextProvider({ captions, children }) {\n    const { ref, hidden } = resolveCaptionsProps(captions);\n    const [visible, setVisible] = React.useState(!hidden);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(CaptionsContext.Provider, { value: context }, children);\n}\n\nfunction Title({ title }) {\n    const { toolbarWidth } = useController();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsTitleContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"title_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"title\"), style: {\n                ...(toolbarWidth ? { [cssVar(\"toolbar_width\")]: `${toolbarWidth}px` } : null),\n                ...styles.captionsTitle,\n            } }, title)));\n}\n\nfunction Description({ description }) {\n    const { descriptionTextAlign, descriptionMaxLines } = useCaptionsProps();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsDescriptionContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"description_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"description\"), style: {\n                ...(descriptionTextAlign !== defaultCaptionsProps.descriptionTextAlign ||\n                    descriptionMaxLines !== defaultCaptionsProps.descriptionMaxLines\n                    ? {\n                        [cssVar(\"slide_description_text_align\")]: descriptionTextAlign,\n                        [cssVar(\"slide_description_max_lines\")]: descriptionMaxLines,\n                    }\n                    : null),\n                ...styles.captionsDescription,\n            } }, typeof description === \"string\"\n            ? description\n                .split(\"\\n\")\n                .flatMap((line, index) => [...(index > 0 ? [React.createElement(\"br\", { key: index })] : []), line])\n            : description)));\n}\n\nconst captionsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z\" })));\nconst CaptionsVisible = createIcon(\"CaptionsVisible\", captionsIcon());\nconst CaptionsHidden = createIconDisabled(\"CaptionsVisible\", captionsIcon());\nfunction CaptionsButton() {\n    const { visible, show, hide } = useCaptions();\n    const { render } = useLightboxProps();\n    if (render.buttonCaptions) {\n        return React.createElement(React.Fragment, null, render.buttonCaptions({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide captions\" : \"Show captions\", icon: visible ? CaptionsVisible : CaptionsHidden, renderIcon: visible ? render.iconCaptionsVisible : render.iconCaptionsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Captions({ augment, addModule }) {\n    augment(({ captions: captionsProps, render: { slideFooter: renderFooter, ...restRender }, toolbar, ...restProps }) => {\n        const captions = resolveCaptionsProps(captionsProps);\n        return {\n            render: {\n                slideFooter: ({ slide }) => (React.createElement(React.Fragment, null, renderFooter === null || renderFooter === void 0 ? void 0 :\n                    renderFooter({ slide }),\n                    slide.title && React.createElement(Title, { title: slide.title }),\n                    slide.description && React.createElement(Description, { description: slide.description }))),\n                ...restRender,\n            },\n            toolbar: addToolbarButton(toolbar, PLUGIN_CAPTIONS, captions.showToggle ? React.createElement(CaptionsButton, null) : null),\n            captions,\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_CAPTIONS, CaptionsContextProvider));\n}\n\nexport { Captions as default };\n","import * as React from 'react';\nimport { makeUseContext, useDocumentContext, useLayoutEffect, cleanup, useEventCallback, clsx, cssClass, createIcon, useLightboxProps, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { PLUGIN_FULLSCREEN, CLASS_FULLSIZE, PLUGIN_THUMBNAILS, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = React.createContext(null);\nconst useFullscreen = makeUseContext(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = React.useRef(null);\n    const [disabled, setDisabled] = React.useState();\n    const [fullscreen, setFullscreen] = React.useState(false);\n    const wasFullscreen = React.useRef(false);\n    const { getOwnerDocument } = useDocumentContext();\n    useLayoutEffect(() => {\n        var _a, _b, _c, _d;\n        const ownerDocument = getOwnerDocument();\n        setDisabled(!((_d = (_c = (_b = (_a = ownerDocument.fullscreenEnabled) !== null && _a !== void 0 ? _a : ownerDocument.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : ownerDocument.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : ownerDocument.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, [getOwnerDocument]);\n    const getFullscreenElement = React.useCallback(() => {\n        var _a;\n        const ownerDocument = getOwnerDocument();\n        const fullscreenElement = ownerDocument.fullscreenElement ||\n            ownerDocument.webkitFullscreenElement ||\n            ownerDocument.mozFullScreenElement ||\n            ownerDocument.msFullscreenElement;\n        return ((_a = fullscreenElement === null || fullscreenElement === void 0 ? void 0 : fullscreenElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.fullscreenElement) || fullscreenElement;\n    }, [getOwnerDocument]);\n    const enter = React.useCallback(() => {\n        const container = containerRef.current;\n        try {\n            if (container.requestFullscreen) {\n                container.requestFullscreen().catch(() => { });\n            }\n            else if (container.webkitRequestFullscreen) {\n                container.webkitRequestFullscreen();\n            }\n            else if (container.mozRequestFullScreen) {\n                container.mozRequestFullScreen();\n            }\n            else if (container.msRequestFullscreen) {\n                container.msRequestFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, []);\n    const exit = React.useCallback(() => {\n        if (!getFullscreenElement())\n            return;\n        const ownerDocument = getOwnerDocument();\n        try {\n            if (ownerDocument.exitFullscreen) {\n                ownerDocument.exitFullscreen().catch(() => { });\n            }\n            else if (ownerDocument.webkitExitFullscreen) {\n                ownerDocument.webkitExitFullscreen();\n            }\n            else if (ownerDocument.mozCancelFullScreen) {\n                ownerDocument.mozCancelFullScreen();\n            }\n            else if (ownerDocument.msExitFullscreen) {\n                ownerDocument.msExitFullscreen();\n            }\n        }\n        catch (err) {\n        }\n    }, [getFullscreenElement, getOwnerDocument]);\n    React.useEffect(() => {\n        const ownerDocument = getOwnerDocument();\n        const listener = () => {\n            setFullscreen(getFullscreenElement() === containerRef.current);\n        };\n        return cleanup(...[\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"].map((event) => {\n            ownerDocument.addEventListener(event, listener);\n            return () => ownerDocument.removeEventListener(event, listener);\n        }));\n    }, [getFullscreenElement, getOwnerDocument]);\n    const onEnterFullscreen = useEventCallback(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onExitFullscreen = useEventCallback(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (fullscreen) {\n            wasFullscreen.current = true;\n        }\n        if (wasFullscreen.current) {\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\n        }\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\n    const handleAutoFullscreen = useEventCallback(() => {\n        var _a;\n        (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a();\n        return exit;\n    });\n    React.useEffect(handleAutoFullscreen, [handleAutoFullscreen]);\n    const context = React.useMemo(() => ({ fullscreen, disabled, enter, exit }), [fullscreen, disabled, enter, exit]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(PLUGIN_FULLSCREEN), cssClass(CLASS_FULLSIZE)) },\n        React.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = createIcon(\"EnterFullscreen\", React.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = createIcon(\"ExitFullscreen\", React.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = useLightboxProps();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return React.createElement(React.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (React.createElement(IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_FULLSCREEN, React.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(PLUGIN_THUMBNAILS) ? PLUGIN_THUMBNAILS : MODULE_CONTROLLER, createModule(PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\nexport { Fullscreen as default };\n","import * as React from 'react';\nimport { makeUseContext, useLightboxState, useTimeouts, useEvents, useController, useEventCallback, cleanup, createIcon, useLightboxProps, useLoseFocus, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { SLIDE_STATUS_LOADING, SLIDE_STATUS_PLAYING, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_ERROR, SLIDE_STATUS_ERROR, ACTIVE_SLIDE_COMPLETE, SLIDE_STATUS_COMPLETE, PLUGIN_SLIDESHOW } from '../../types.js';\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = React.createContext(null);\nconst useSlideshow = makeUseContext(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = React.useRef(autoplay);\n    const [playing, setPlaying] = React.useState(autoplay);\n    const scheduler = React.useRef();\n    const slideStatus = React.useRef();\n    const { slides, currentIndex } = useLightboxState();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const { next } = useController();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = React.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = React.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = React.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = useEventCallback(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === SLIDE_STATUS_LOADING ||\n            slideStatus.current === SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    React.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    React.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = useEventCallback(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = useEventCallback(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    React.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    React.useEffect(() => cleanup(cancelScheduler, subscribe(ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = React.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = createIcon(\"Play\", React.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = createIcon(\"Pause\", React.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = useLightboxProps();\n    const focusListeners = useLoseFocus(useController().focus, disabled);\n    if (render.buttonSlideshow) {\n        return React.createElement(React.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (React.createElement(IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: addToolbarButton(toolbar, PLUGIN_SLIDESHOW, React.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule(createModule(PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\nexport { Slideshow as default };\n","import * as React from 'react';\nimport { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useDocumentContext, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_ZOOM } from '../../types.js';\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = React.useRef();\n    const zoomAnimationStart = React.useRef();\n    const { zoom: zoomAnimationDuration } = useLightboxProps().animation;\n    const reduceMotion = useMotionPreference();\n    const playZoomAnimation = useEventCallback(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? (zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500) : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return React.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = useLightboxProps();\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = useLightboxProps();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = useLightboxState();\n    const { imageFit } = useLightboxProps().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if (isImageSlide(slide)) {\n            const cover = isImageFitCover(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction scaleZoom(value, delta, factor = 100, clamp = 2) {\n    return value * Math.min(1 + Math.abs(delta / factor), clamp) ** Math.sign(delta);\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const pinchZoomDistance = React.useRef();\n    const { globalIndex } = useLightboxState();\n    const { getOwnerWindow } = useDocumentContext();\n    const { containerRef, subscribeSensors } = useController();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = React.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = getOwnerWindow();\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef, getOwnerWindow]);\n    const onKeyDown = useEventCallback((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(scaleZoom(zoom, -event.deltaY, wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if ((event.pointerType === \"mouse\" && event.buttons > 1) ||\n            !((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(scaleZoom(zoom, delta, pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = React.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    React.useEffect(() => {\n        if (!disabled) {\n            return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = useLightboxState();\n    const { containerRect, slideRect } = useController();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && isImageSlide(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    useLayoutEffect(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = React.useState();\n    const { slideRect } = useController();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = React.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = React.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return React.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = React.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = useLightboxProps();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (React.createElement(IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { focus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = useLightboxProps();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return React.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = React.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render, interactive } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = isImageFitCover(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleResize = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = useEventCallback((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: !interactive ? \"translateZ(0)\" : \"initial\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const zoomWrapperRef = React.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const interactive = zoom > 1;\n    const { carousel, on } = useLightboxProps();\n    const { currentIndex } = useLightboxState();\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { ...slideProps, slide: slide, interactive: interactive, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (React.createElement(ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (React.createElement(\"div\", { ref: zoomWrapperRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER), interactive && cssClass(CLASS_SLIDE_WRAPPER_INTERACTIVE)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n\nexport { Zoom as default };\n","import React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\n\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport Autoplay from \"embla-carousel-autoplay\";\n\nimport { IScreenshot } from \"../../types/project.type\";\nimport { EmblaCarouselType } from \"embla-carousel\";\n\nimport { DotButton, PrevButton, NextButton } from \"./carouselDotsButtonsArrows\";\nimport Lightbox, { SlideImage } from \"yet-another-react-lightbox\";\nimport Captions from \"yet-another-react-lightbox/plugins/captions\";\nimport Fullscreen from \"yet-another-react-lightbox/plugins/fullscreen\";\nimport Slideshow from \"yet-another-react-lightbox/plugins/slideshow\";\nimport Zoom from \"yet-another-react-lightbox/plugins/zoom\";\nimport \"yet-another-react-lightbox/styles.css\";\nimport \"yet-another-react-lightbox/plugins/captions.css\";\nimport \"yet-another-react-lightbox/plugins/thumbnails.css\";\n\nconst ScreenshotsCarousel = ({\n  screenshots,\n}: {\n  screenshots: IScreenshot[];\n}) => {\n  const [emblaRef, emblaApi] = useEmblaCarousel({ loop: true }, [\n    Autoplay({\n      stopOnInteraction: false,\n      stopOnMouseEnter: true,\n    }),\n  ]);\n  const [prevBtnEnabled, setPrevBtnEnabled] = useState(false);\n  const [nextBtnEnabled, setNextBtnEnabled] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [scrollSnaps, setScrollSnaps] = useState<number[]>([]);\n  const [openLightbox, setOpenLightbox] = useState(false);\n\n  const imageSlides: SlideImage[] = useMemo(() => {\n    return screenshots.map(screenshot => {\n      const img = getImage(screenshot.childImageSharp);\n\n      return {\n        src: screenshot.publicURL,\n        width: img?.width,\n        height: img?.height,\n      }\n    });\n  }, [screenshots]);\n  \n  const scrollPrev = useCallback(\n    () => emblaApi && emblaApi.scrollPrev(),\n    [emblaApi]\n  );\n  const scrollNext = useCallback(\n    () => emblaApi && emblaApi.scrollNext(),\n    [emblaApi]\n  );\n  const scrollTo = useCallback(\n    (index: number) => emblaApi && emblaApi.scrollTo(index),\n    [emblaApi]\n  );\n\n  const onInit = useCallback((emblaApi: EmblaCarouselType) => {\n    setScrollSnaps(emblaApi.scrollSnapList());\n  }, []);\n\n  const onSelect = useCallback((emblaApi: EmblaCarouselType) => {\n    setSelectedIndex(emblaApi.selectedScrollSnap());\n    setPrevBtnEnabled(emblaApi.canScrollPrev());\n    setNextBtnEnabled(emblaApi.canScrollNext());\n  }, []);\n\n  useEffect(() => {\n    if (!emblaApi) return;\n\n    onInit(emblaApi);\n    onSelect(emblaApi);\n    emblaApi.on(\"reInit\", onInit);\n    emblaApi.on(\"reInit\", onSelect);\n    emblaApi.on(\"select\", onSelect);\n  }, [emblaApi, onInit, onSelect]);\n\n  return (\n    <>\n      <div className=\"h-full overflow-hidden relative\" ref={emblaRef}>\n        <div className=\"h-full flex items-center \">\n          {screenshots.map(({ id, childImageSharp }) => {\n            const img = getImage(childImageSharp);\n            console.log(imageSlides)\n            return (\n              <div\n                key={id}\n                onClick={() => setOpenLightbox(true)}\n                className=\"h-full shrink-0 min-w-0 basis-full px-12 md:px-20 pt-2.5 pb-8 md:py-8 cursor-pointer flex items-center justify-center\"\n              >\n                {img ? (\n                  <GatsbyImage\n                    image={img}\n                    alt=\"logo\"\n                    className=\"object-contain rounded-xl max-h-[424px]\"\n                  />\n                ) : null}\n              </div>\n            );\n          })}\n        </div>\n        <PrevButton onClick={scrollPrev} enabled={prevBtnEnabled} />\n        <NextButton onClick={scrollNext} enabled={nextBtnEnabled} />\n\n        <div className=\"z-10 absolute bottom-1 left-0 right-0 flex justify-center items-center\">\n          {scrollSnaps.map((_, index) => (\n            <DotButton\n              key={index}\n              selected={index === selectedIndex}\n              onClick={() => scrollTo(index)}\n            />\n          ))}\n        </div>\n      </div>\n      <Lightbox \n        open={openLightbox}\n        close={() => setOpenLightbox(false)}\n        slides={imageSlides}\n        zoom={{\n          scrollToZoom: true,\n          maxZoomPixelRatio: 4,\n          zoomInMultiplier: 1.5,\n        }}\n        plugins={[Captions, Fullscreen, Slideshow, Zoom]}\n      />\n    </>\n  );\n};\n\nexport default ScreenshotsCarousel;\n","import React, { HTMLAttributes } from \"react\";\n\ninterface IProjectDescriptionSectionProps\n  extends HTMLAttributes<HTMLDivElement> {\n  title: string;\n  className?: string;\n  text?: string;\n  textAttr?: HTMLAttributes<HTMLParagraphElement>;\n}\n\nconst ProjectDescriptionSection = ({\n  title,\n  text,\n  className,\n  children,\n  textAttr,\n  ...attr\n}: React.PropsWithChildren<IProjectDescriptionSectionProps>) => {\n  return (\n    <section {...attr} className=\"w-full\">\n      <h2 className=\"text-[24px] md:text-4xl text-secondary-100 uppercase w-full max-w-[320px] mb-2\">\n        {title}\n      </h2>\n      {!!textAttr?.dangerouslySetInnerHTML ? (\n        <div\n          {...textAttr}\n          className={`text-secondary-100 text-base md:text-lg w-full max-w-[544px] float-right ${className}`}\n        />\n      ) : (\n        <p\n          {...textAttr}\n          className={`text-secondary-100 text-base md:text-lg w-full max-w-[544px] float-right ${className}`}\n        >\n          {children ? children : text}\n        </p>\n      )}\n    </section>\n  );\n};\n\nexport default ProjectDescriptionSection;\n","import React from \"react\";\n\ninterface IStackOrTeamCardProps\n  extends React.HTMLAttributes<HTMLParagraphElement> {\n  text: string;\n}\n\nconst StackOrTeamCard = ({ text, className, ...attr }: IStackOrTeamCardProps) => {\n  return (\n    <span\n      {...attr}\n      className={`bg-main-70 px-5 h-10 md:h-16 whitespace-nowrap text-sm md:text-lg font-medium rounded-lg flex items-center ${className}`}\n    >\n      {text}\n    </span>\n  );\n};\n\nexport default StackOrTeamCard;\n","import React from \"react\";\nimport { HeadFC, PageProps, graphql } from \"gatsby\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\n\nimport {\n  IProjectQueryResult,\n  IProjectsPageContext,\n} from \"../types/project.type\";\n\nimport ContentContainer from \"../components/common/contentContainer\";\nimport ScreenshotsCarousel from \"../components/projects/screenshotsCarousel\";\nimport { HeadSeo, LocalBusinessMetadata } from \"../components/common/metadata\";\nimport ProjectDescriptionSection from \"../components/projects/projectDescriptionSection\";\nimport StackOrTeamCard from \"../components/projects/stackOrTeamCard\";\n\nconst Project = ({\n  data: {\n    markdownRemark: { frontmatter, html },\n  },\n  pageContext: { markupData, lang },\n}: PageProps<IProjectQueryResult, IProjectsPageContext>) => {\n  const {\n    title,\n    description,\n    challenge,\n    clientDescription,\n    team,\n    screenshots,\n    stack,\n  } = frontmatter;\n  const logo = getImage(frontmatter.logo);\n\n  return (\n    <div\n      itemScope\n      itemType=\"https://schema.org/CreativeWork\"\n      className=\"flex\"\n    >\n      <ContentContainer\n        maxWidthClass=\"max-w-4.5xl\"\n        className=\"flex-col text-secondary-70 py-6 md:py-16 lg:!px-0 gap-7 sm:gap-5 md:gap-8\"\n      >\n        <div className=\"flex flex-col flex-col-reverse items-center md:items-start md:flex-row justify-between gap-x-16 gap-y-2.5 pb-10 gradient-border border-b border-solid\">\n          <div className=\"flex-1 w-full md:max-w-[528px]\">\n            <h1\n              itemProp=\"name\"\n              className=\"w-full text-[24px] md:text-4xl font-semibold text-secondary-100 mb-5 uppercase\"\n            >\n              {title}\n            </h1>\n            <p itemProp=\"description\" className=\"w-full text-base font-light text-secondary-100\">\n              {description}\n            </p>\n          </div>\n\n          {logo ? (\n            <div className=\"w-28 md:w-48 h-28 md:h-48 flex items-center justify-center\">\n              <GatsbyImage\n                image={logo}\n                imgStyle={{ objectFit: `contain` }}\n                alt=\"logo\"\n                itemProp=\"image\"\n                className=\"max-h-full max-w-full\"\n              />\n            </div>\n          ) : null}\n        </div>\n\n        <ProjectDescriptionSection\n          title={markupData.clientSectionTitle}\n          text={clientDescription}\n          itemProp=\"sourceOrganization\"\n          itemScope\n          itemType=\"https://schema.org/Organization\"\n          textAttr={{\n            itemProp: \"description\",\n          }}\n        />\n\n        <ProjectDescriptionSection\n          title={markupData.challengeSectionTitle}\n          text={challenge}\n          textAttr={{\n            itemProp: \"about\",\n          }}\n        />\n\n        {html ? (\n          <ProjectDescriptionSection\n            title={markupData.solutionSectionTitle}\n            text={challenge}\n            className=\"project-solution\"\n            textAttr={{\n              itemProp: \"text\",\n              dangerouslySetInnerHTML: { __html: html },\n            }}\n          />\n        ) : null}\n\n        {team?.length ? (\n          <ProjectDescriptionSection\n            title={markupData.teamSectionTitle}\n            className=\"flex gap-2.5 flex-wrap pt-2 md:pt-0\"\n          >\n            {team.map((member) => (\n              <StackOrTeamCard\n                className=\"text-secondary-70\"\n                key={member}\n                id={member}\n                text={member}\n                itemProp=\"contributor\"\n              />\n            ))}\n          </ProjectDescriptionSection>\n        ) : null}\n\n        {stack?.length ? (\n          <ProjectDescriptionSection\n            title={markupData.techSectionTitle}\n            className=\"flex gap-2.5 flex-wrap pt-2 md:pt-0\"\n          >\n            {stack.map((tech) => (\n              <StackOrTeamCard\n                className=\"text-secondary-70\"\n                key={tech}\n                id={tech}\n                text={tech}\n                itemProp=\"keywords\"\n              />\n            ))}\n          </ProjectDescriptionSection>\n        ) : null}\n\n        {screenshots?.length ? (\n          <section className=\"w-full mb-8\">\n            <h2 className=\"text-[24px] md:text-4xl text-secondary-100 uppercase w-full max-w-[320px]\">\n              {markupData.resultSectionTitle}\n            </h2>\n            <ScreenshotsCarousel screenshots={screenshots} />\n          </section>\n        ) : null}\n        <LocalBusinessMetadata itemProp=\"author\" lang={lang} />\n      </ContentContainer>\n    </div>\n  );\n};\n\nexport default Project;\n\nexport const Head: HeadFC<IProjectQueryResult, IProjectsPageContext> = ({\n  data: {\n    markdownRemark: {\n      frontmatter: { title, description, cover },\n    },\n  },\n  pageContext: { markupData, site, lang },\n  location,\n}) => {\n  const coverImg = getImage(cover);\n\n  return (\n    <HeadSeo\n      title={`${markupData.head} | ${title.toUpperCase()}`}\n      siteUrl={site.siteUrl}\n      description={`${description.split(\" \").slice(0, 22).join(\" \")}...`}\n      path={location.pathname}\n      img={coverImg?.images.fallback?.src}\n      lang={lang}\n    />\n  );\n};\n\nexport const query = graphql`\n  query ($id: String) {\n    markdownRemark(id: { eq: $id }) {\n      id\n      html\n      frontmatter {\n        stack\n        title\n        description\n        challenge\n        clientDescription\n        logo {\n          childImageSharp {\n            gatsbyImageData(\n              formats: [AUTO, WEBP, AVIF]\n              placeholder: BLURRED\n              width: 180\n            )\n          }\n        }\n        cover {\n          childImageSharp {\n            gatsbyImageData(\n              formats: [AUTO, WEBP, AVIF]\n              placeholder: BLURRED\n              height: 400\n            )\n          }\n        }\n        team\n        screenshots {\n          id\n          publicURL\n          childImageSharp {\n            gatsbyImageData(\n              formats: [AUTO, WEBP, AVIF]\n              placeholder: BLURRED\n              height: 424\n            )\n          }\n        }\n      }\n    }\n  }\n`;\n","const defaultOptions = {\n  active: true,\n  breakpoints: {},\n  delay: 4000,\n  jump: false,\n  playOnInit: true,\n  stopOnFocusIn: true,\n  stopOnInteraction: true,\n  stopOnMouseEnter: false,\n  stopOnLastSnap: false,\n  rootNode: null\n};\n\nfunction Autoplay(userOptions = {}) {\n  let options;\n  let emblaApi;\n  let destroyed;\n  let playing = false;\n  let resume = true;\n  let jump = false;\n  let timer = 0;\n  function init(emblaApiInstance, optionsHandler) {\n    emblaApi = emblaApiInstance;\n    const {\n      mergeOptions,\n      optionsAtMedia\n    } = optionsHandler;\n    const optionsBase = mergeOptions(defaultOptions, Autoplay.globalOptions);\n    const allOptions = mergeOptions(optionsBase, userOptions);\n    options = optionsAtMedia(allOptions);\n    if (emblaApi.scrollSnapList().length <= 1) return;\n    jump = options.jump;\n    destroyed = false;\n    const {\n      eventStore,\n      ownerDocument\n    } = emblaApi.internalEngine();\n    const emblaRoot = emblaApi.rootNode();\n    const root = options.rootNode && options.rootNode(emblaRoot) || emblaRoot;\n    const container = emblaApi.containerNode();\n    emblaApi.on('pointerDown', stopTimer);\n    if (!options.stopOnInteraction) {\n      emblaApi.on('pointerUp', startTimer);\n    }\n    if (options.stopOnMouseEnter) {\n      eventStore.add(root, 'mouseenter', () => {\n        resume = false;\n        stopTimer();\n      });\n      if (!options.stopOnInteraction) {\n        eventStore.add(root, 'mouseleave', () => {\n          resume = true;\n          startTimer();\n        });\n      }\n    }\n    if (options.stopOnFocusIn) {\n      eventStore.add(container, 'focusin', stopTimer);\n      if (!options.stopOnInteraction) {\n        eventStore.add(container, 'focusout', startTimer);\n      }\n    }\n    eventStore.add(ownerDocument, 'visibilitychange', visibilityChange);\n    if (options.playOnInit && !documentIsHidden()) startTimer();\n  }\n  function destroy() {\n    emblaApi.off('pointerDown', stopTimer).off('pointerUp', startTimer);\n    stopTimer();\n    destroyed = true;\n    playing = false;\n  }\n  function startTimer() {\n    if (destroyed) return;\n    if (!resume) return;\n    if (!playing) emblaApi.emit('autoplay:play');\n    const {\n      ownerWindow\n    } = emblaApi.internalEngine();\n    ownerWindow.clearInterval(timer);\n    timer = ownerWindow.setInterval(next, options.delay);\n    playing = true;\n  }\n  function stopTimer() {\n    if (destroyed) return;\n    if (playing) emblaApi.emit('autoplay:stop');\n    const {\n      ownerWindow\n    } = emblaApi.internalEngine();\n    ownerWindow.clearInterval(timer);\n    timer = 0;\n    playing = false;\n  }\n  function visibilityChange() {\n    if (documentIsHidden()) {\n      resume = playing;\n      return stopTimer();\n    }\n    if (resume) startTimer();\n  }\n  function documentIsHidden() {\n    const {\n      ownerDocument\n    } = emblaApi.internalEngine();\n    return ownerDocument.visibilityState === 'hidden';\n  }\n  function play(jumpOverride) {\n    if (typeof jumpOverride !== 'undefined') jump = jumpOverride;\n    resume = true;\n    startTimer();\n  }\n  function stop() {\n    if (playing) stopTimer();\n  }\n  function reset() {\n    if (playing) play();\n  }\n  function isPlaying() {\n    return playing;\n  }\n  function next() {\n    const {\n      index\n    } = emblaApi.internalEngine();\n    const nextIndex = index.clone().add(1).get();\n    const lastIndex = emblaApi.scrollSnapList().length - 1;\n    const kill = options.stopOnLastSnap && nextIndex === lastIndex;\n    if (kill) stopTimer();\n    if (emblaApi.canScrollNext()) {\n      emblaApi.scrollNext(jump);\n    } else {\n      emblaApi.scrollTo(0, jump);\n    }\n  }\n  const self = {\n    name: 'autoplay',\n    options: userOptions,\n    init,\n    destroy,\n    play,\n    stop,\n    reset,\n    isPlaying\n  };\n  return self;\n}\nAutoplay.globalOptions = undefined;\n\nexport { Autoplay as default };\n//# sourceMappingURL=embla-carousel-autoplay.esm.js.map\n"],"names":["DotButton","_ref","selected","onClick","___EmotionJSX","className","concat","type","PrevButton","_ref2","enabled","disabled","viewBox","fill","d","NextButton","_ref3","MODULE_CAROUSEL","MODULE_CONTROLLER","MODULE_PORTAL","MODULE_TOOLBAR","PLUGIN_CAPTIONS","PLUGIN_FULLSCREEN","PLUGIN_SLIDESHOW","PLUGIN_THUMBNAILS","PLUGIN_ZOOM","SLIDE_STATUS_LOADING","SLIDE_STATUS_PLAYING","SLIDE_STATUS_ERROR","SLIDE_STATUS_COMPLETE","SLIDE_STATUS_PLACEHOLDER","activeSlideStatus","status","ACTIVE_SLIDE_LOADING","ACTIVE_SLIDE_PLAYING","ACTIVE_SLIDE_ERROR","ACTIVE_SLIDE_COMPLETE","CLASS_FULLSIZE","CLASS_FLEX_CENTER","CLASS_NO_SCROLL_PADDING","CLASS_SLIDE_WRAPPER","ACTION_PREV","ACTION_NEXT","ACTION_SWIPE","ACTION_CLOSE","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_CANCEL","EVENT_ON_KEY_DOWN","EVENT_ON_KEY_UP","EVENT_ON_WHEEL","VK_ESCAPE","VK_ARROW_LEFT","VK_ARROW_RIGHT","ELEMENT_ICON","IMAGE_FIT_CONTAIN","IMAGE_FIT_COVER","UNKNOWN_ACTION_TYPE","cssPrefix$3","clsx","classes","filter","Boolean","join","cssClass","name","cssVar","composePrefix","base","prefix","makeComposePrefix","cleanup","cleaners","forEach","cleaner","makeUseContext","contextName","context","ctx","Error","hasWindow","window","round","value","decimals","factor","Math","Number","EPSILON","isImageSlide","slide","undefined","isImageFitCover","image","imageFit","parseInt","parseLengthPercentage","input","pixel","endsWith","percent","computeSlideRect","containerRect","padding","paddingValue","paddingPixels","width","max","height","getSlideIndex","index","slidesCount","hasSlides","slides","length","getSlide","getSlideIfPresent","getSlideKey","src","addToolbarButton","toolbar","key","button","buttons","restToolbar","findIndex","item","buttonWithKey","result","splice","isReact19","split","LightboxDefaultProps","open","close","render","plugins","labels","animation","fade","swipe","easing","navigation","carousel","finite","preload","spacing","imageProps","controller","ref","focus","aria","touchAction","closeOnPullUp","closeOnPullDown","closeOnBackdropClick","preventDefaultWheelX","preventDefaultWheelY","portal","noScroll","on","styles","createModule","component","createNode","module","children","traverseNode","node","target","apply","flatMap","n","_a","traverse","nodes","DocumentContext","useDocumentContext","DocumentContextProvider","nodeRef","getOwnerDocument","current","ownerDocument","document","getOwnerWindow","defaultView","Provider","EventsContext","useEvents","EventsProvider","subscriptions","Object","keys","topic","unsubscribe","callback","cb","publish","event","subscribe","push","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","props","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","state","action","increment","globalIndex","currentIndex","currentSlide","duration","LightboxStateProvider","dispatch","TimeoutsContext","useTimeouts","TimeoutsProvider","timeouts","tid","clearTimeout","removeTimeout","id","setTimeout","fn","delay","IconButton","label","label$1","icon","Icon","renderIcon","style","rest","buttonLabel","defaultLabel","title","svgIcon","xmlns","focusable","displayName","createIcon","glyph","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","Array","from","map","_","array","x1","y1","x2","y2","strokeLinecap","strokeWidth","stroke","strokeOpacity","transform","ErrorIcon","useLayoutEffect","useMotionPreference","reduceMotion","setReduceMotion","_b","mediaQuery","matchMedia","call","matches","listener","addEventListener","removeEventListener","useAnimation","computeAnimation","snapshot","_c","keyframes","onfinish","getBoundingClientRect","x","y","z","matcher","getComputedStyle","match","values","currentTransformation","cancel","animate","err","console","error","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","containerRef","observerRef","setContainerRect","setContainerRef","disconnect","updateContainerRect","parse","parseFloat","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","ResizeObserver","observe","useDelay","timeoutId","useEventCallback","args","setRef","useForkRef","refA","refB","refValue","useLoseFocus","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","documentElement","direction","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","slidePrefix","slideImagePrefix","ImageSlide","offset","rect","onLoad","onError","_d","_e","_f","_g","setStatus","imageRef","handleLoading","img","decode","Promise","resolve","catch","then","parentNode","setImageRef","complete","handleOnLoad","currentTarget","handleOnError","cover","nonInfinite","fallback","isFinite","maxWidth","srcSet","naturalWidth","maxHeight","naturalHeight","defaultStyle","sort","a","b","sizes","min","MAX_VALUE","imagePropsStyle","imagePropsClassName","restImageProps","draggable","alt","iconLoading","iconError","LightboxRoot","SwipeState","Gesture","usePointerEvents","subscribeSensors","onPointerDown","onPointerMove","onPointerUp","SWIPE_THRESHOLD","cssContainerPrefix","ControllerContext","useController","ControllerModule","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","NONE","swipeOffset","pullOffset","pullOpacity","registerSensors","subscribers","notifySubscribers","isPropagationStopped","onPointerLeave","onPointerCancel","onKeyDown","onKeyUp","onWheel","unshift","listeners","el","useSensors","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullOffset","handleContainerRef","horizontal","abs","deltaX","deltaY","ctrlKey","preventDefault","passive","usePreventWheelDefaults","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","prev","params","next","isSwipeValid","setSwipeOffset","setProperty","setPullOffset","offsetValue","preparePullAnimation","translate","opacity","pull","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","containerWidth","elapsedTime","expectedTime","swipeParams","SWIPE","pullParams","PULL","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pullUpEnabled","pullDownEnabled","onPullStart","onPullProgress","onPullFinish","onPullCancel","pointers","activePointer","startTime","gesture","clearPointer","pointerId","currentPointers","p","addPointer","persist","exceedsPullThreshold","threshold","find","currentOffset","pointer","isCurrentPointer","clientX","clientY","startGesture","newGesture","usePointerSwipe","intent","intentCleanup","resetCleanup","wheelInertia","wheelInertiaCleanup","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","setWheelInertia","inertia","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","querySelector","onViewCallback","view","slideRect","container","role","tabIndex","controls","cssPrefix$2","cssSlidePrefix","CarouselSlide","click","offscreen","contains","activeElement","condition","inert","HTMLElement","classList","rendered","slideHeader","slideContainer","slideFooter","renderSlide","Placeholder","CarouselModule","minimum","floor","calculatePreload","items","placeholder","useNavigationState","prevDisabled","nextDisabled","NavigationButton","NavigationModule","buttonPrev","buttonNext","iconPrev","iconNext","throttle","handleKeyDown","useKeyboardNavigation","navigationPrev","navigationNext","noScrollPadding","isHTMLElement","element","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","ownerWindow","body","scrollbar","innerWidth","elements","getElementsByTagName","i","add","remove","clean","cssPrefix$1","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","mounted","setMounted","visible","setVisible","restoreFocus","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","indexOf","tagName","entered","handleRef","createPortal","root","relatedTarget","RootModule","ToolbarModule","buttonClose","iconClose","renderNode","child","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultNoScroll","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","pop","addParent","append","addChild","precede","addSibling","addModule","replace","augment","plugin","reduce","acc","withPlugins","defaultCaptionsProps","descriptionTextAlign","descriptionMaxLines","showToggle","hidden","resolveCaptionsProps","captions","CaptionsContext","useCaptions","CaptionsContextProvider","show","hide","Title","captionsTitleContainer","captionsTitle","Description","description","useCaptionsProps","captionsDescriptionContainer","captionsDescription","line","captionsIcon","strokeLinejoin","CaptionsVisible","CaptionsHidden","mask","CaptionsButton","buttonCaptions","iconCaptionsVisible","iconCaptionsHidden","Captions","captionsProps","renderFooter","restRender","defaultFullscreenProps","auto","resolveFullscreenProps","fullscreen","FullscreenContext","useFullscreen","FullscreenContextProvider","fullscreenProps","setDisabled","setFullscreen","wasFullscreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","getFullscreenElement","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","shadowRoot","enter","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exit","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","onEnterFullscreen","enterFullscreen","onExitFullscreen","handleAutoFullscreen","EnterFullscreenIcon","ExitFullscreenIcon","FullscreenButton","buttonFullscreen","iconExitFullscreen","iconEnterFullscreen","Fullscreen","defaultSlideshowProps","autoplay","resolveSlideshowProps","slideshow","SlideshowContext","useSlideshow","SlideshowContextProvider","wasPlaying","playing","setPlaying","scheduler","slideStatus","play","pause","cancelScheduler","scheduleNextSlide","onSlideshowStart","slideshowStart","onSlideshowStop","slideshowStop","PlayIcon","PauseIcon","SlideshowButton","focusListeners","buttonSlideshow","iconSlideshowPause","iconSlideshowPlay","Slideshow","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomProps","distance","pointerA","pointerB","scaleZoom","delta","clamp","useZoomState","imageRect","maxZoom","zoomWrapperRef","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","zoomAnimation","zoomAnimationStart","zoomAnimationDuration","playZoomAnimation","useZoomAnimation","currentSource","changeOffsets","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","changeZoom","rapid","handleControllerRectChange","zoomIn","zoomOut","ZoomControllerContext","useZoom","ZoomContextProvider","zoomWrapper","setZoomWrapper","imageDimensions","maxImageRect","useZoomImageRect","onZoomCallback","useZoomCallback","activePointers","lastPointerDown","pinchZoomDistance","translateCoordinates","pageX","pageY","scrollX","scrollY","left","top","stopPropagation","move","handleChangeZoom","zoomValue","hasMeta","getModifierState","replacePointer","pointerType","timeStamp","currentDistance","coordinate","cleanupSensors","useZoomSensors","zoomRef","ZoomInIcon","ZoomOutIcon","ZoomButton","onLoseFocus","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","source","ResponsiveImage","interactive","targetWidth","pixelDensity","devicePixelRatio","handleResize","targetSource","handlePreload","currentPreload","WebkitTransform","assign","position","visibility","ZoomWrapper","setImageDimensions","slideProps","isResponsiveImageSlide","Zoom","zoomProps","screenshots","emblaRef","emblaApi","useEmblaCarousel","loop","Autoplay","stopOnInteraction","stopOnMouseEnter","prevBtnEnabled","setPrevBtnEnabled","useState","nextBtnEnabled","setNextBtnEnabled","selectedIndex","setSelectedIndex","scrollSnaps","setScrollSnaps","openLightbox","setOpenLightbox","imageSlides","useMemo","screenshot","getImage","childImageSharp","publicURL","scrollPrev","useCallback","scrollNext","scrollTo","onInit","scrollSnapList","onSelect","selectedScrollSnap","canScrollPrev","canScrollNext","useEffect","React","GatsbyImage","text","textAttr","attr","_extends","dangerouslySetInnerHTML","data","markdownRemark","frontmatter","html","pageContext","markupData","lang","challenge","clientDescription","team","stack","logo","itemScope","itemType","ContentContainer","maxWidthClass","itemProp","imgStyle","objectFit","ProjectDescriptionSection","clientSectionTitle","challengeSectionTitle","solutionSectionTitle","__html","teamSectionTitle","member","StackOrTeamCard","techSectionTitle","tech","resultSectionTitle","ScreenshotsCarousel","LocalBusinessMetadata","Head","_coverImg$images$fall","site","location","coverImg","HeadSeo","head","toUpperCase","siteUrl","slice","path","pathname","images","defaultOptions","active","breakpoints","jump","playOnInit","stopOnFocusIn","stopOnLastSnap","rootNode","userOptions","options","destroyed","resume","timer","startTimer","emit","internalEngine","clearInterval","setInterval","stopTimer","visibilityChange","documentIsHidden","visibilityState","jumpOverride","nextIndex","clone","get","lastIndex","init","emblaApiInstance","optionsHandler","mergeOptions","optionsAtMedia","optionsBase","globalOptions","allOptions","eventStore","emblaRoot","containerNode","destroy","off","stop","reset","isPlaying"],"sourceRoot":""}