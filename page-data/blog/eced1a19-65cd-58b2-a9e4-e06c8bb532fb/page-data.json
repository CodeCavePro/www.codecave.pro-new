{"componentChunkName":"component---src-pages-templates-post-tsx","path":"/blog/eced1a19-65cd-58b2-a9e4-e06c8bb532fb/","result":{"data":{"post":{"frontmatter":{"date":"02 Aug 2023","title":"Streamlining Changelog Creation with Azure DevOps and Confluence","text":"Twingate is a fantastic alternative to traditional VPNs like WireGuard because it offers superior security with Zero Trust principles and is incredibly easy to deploy, ensuring seamless and secure access to your resources without the hassle of complex configurations. However, in order to use Twingate only you must own the infrastructure behind it (I’m talking about Twingate connectors here). What if one of your customers is using Wireguard to access the company’s cloud-based servers and databases?","keywords":["devops","zero trust","twingate","wireguard","vpn"]},"html":"<p><a href=\"https://www.twingate.com/docs/\">Twingate</a> is a fantastic alternative to traditional VPNs like <a href=\"https://www.wireguard.com/\">WireGuard</a> because it offers superior security with Zero Trust principles and is incredibly easy to deploy, ensuring seamless and secure access to your resources without the hassle of complex configurations.</p>\n<p>However, in order to use Twingate only you must own the infrastructure behind it (I’m talking about Twingate connectors here).<br>\nWhat if one of your customers is using Wireguard to access the company’s cloud-based servers and databases?</p>\n<p>You can’t use both solutions at the same time: if your Twingate client is active and you try to open a Wireguard tunnel connection your Windows PC will freak out. Most likely, you are going to completely lose your Internet connection.</p>\n<p>So how can you use both? Is it even possible? Yes, it is!</p>\n<p>There is <a href=\"https://github.com/WireGuard/wireguard-windows/blob/master/docs/adminregistry.md\">a secret feature in Wireguard</a>, it allows Windows clients to execute commands before or right after establishing a Wireguard connection or closing one.</p>\n<p>You could even spice up your script a little bit more, by using <code class=\"language-text\">WIREGUARD_TUNNEL_NAME</code> variable to conditionally execute or not execute certain statements, based on which Wireguard connection is being established.</p>\n<p>The only caveat is that these commands will be executed under <a href=\"https://learn.microsoft.com/en-us/windows/win32/services/localsystem-account\">SYSTEM user,</a> which is a big deal, because it might make you an easy target for malware.<br>\nBut we know what we are up to, don't we?</p>\n<p>You can activate this PreUp-PostDown magic by running enabling it via registry</p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">reg</span> add HKLM\\Software\\WireGuard <span class=\"token parameter attr-name\">/v</span> LimitedOperatorUI <span class=\"token parameter attr-name\">/t</span> REG_DWORD <span class=\"token parameter attr-name\">/d</span> <span class=\"token number\">1</span> <span class=\"token parameter attr-name\">/f</span></span></code></pre></div>\n<p>Then you can start adding the <code class=\"language-text\">PreUp</code>, <code class=\"language-text\">PostUp</code>, <code class=\"language-text\">PreDown</code>, and <code class=\"language-text\">PostDown</code> options to your tunnel configurations.</p>\n<p>I will add</p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token key attr-name\">PreUp</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">net stop Twingate.Service</span>\n<span class=\"token key attr-name\">PostDown</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">net start Twingate.Service</span></code></pre></div>\n<p>to the <code class=\"language-text\">[Interface]</code> section in all my tunnel configs.</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:485/0*p8SqEhIMB0FwVzDW.png\" alt=\"Just an example of a config with PreUp and PostDown options\"></p>\n<p>Just an example of a config with PreUp and PostDown options</p>\n<p>Now, every time I activate Wireguard it stops Twingate and re-starts the service, when I close my Wireguard connection. It’s super convenient!</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:235/0*CkV9SxkYYx8wbFMW.png\" alt=\"Twingate is on, Wireguard is turned off\" title=\"Twingate is on, Wireguard is turned off\">\n<sub><sup>Twingate is on, Wireguard is turned off</sup></sub></p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:236/0*tlTVvXL42j-nOyhV.png\" alt=\"Wireguard is active, Twingate is turned off\" title=\"Wireguard is active, Twingate is turned off\">\n<sub><sup>Wireguard is active, Twingate is turned off</sup></sub></p>\n<p><strong>You are welcome! :smile: Subscribe for more valuable tech tips and insights!</strong></p>","wordCount":{"words":342}},"author":{"frontmatter":{"authorAlias":"Zhmayev","author":"Yaroslav Zhmayev","authorPosition":"Solution Architect, CEO","authorPhoto":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADMElEQVR42m2UuUsrURTGJ4kLLoOilSCCS2+jaCMIgqBoISgmaLAQFFwQFEQLQRQEl0IwphUbC9NoZ2Ej+he4b0lU3F/U3pnJ98453BsmeW/g496Ze87vLPfeMYz0x6dGMzs7eyArK2ufFCMlfD7fH1Lc6/Xuk4JkU5jhk/Z4SF6ekLGfHB8IAlKSwDyCvmkl1RhjW+XvVYw0oIeMQhpEsujdpu8pmALbJEvZ8Pum9jdcdIMWwgr2S3IoOgoKClBTU4OKigoUFRXB4/FA2bAcZauhKRaX2aeMODK4TM6so6MDa2trWFlZwfT0NGpra+W7C5ryIUZAZ2hShKiOyjDOzjRNzM/PY3t7Gzs7O9jY2MDY2BjKy8szgY7KMsYsgwA6O1tnx6WVlpZicHBQMuzp6UFvby9GRkbQ1NQkaxz0P1n2GzSJZALZuKSkBI2NjZiZmUEgEBDNzs6itbUVbW1tKC4ulsDqFNiKsWu4joiknpOTI33ifnHvGLi8vIytrS0sLCygq6sLfr8f+fn5qZ13lf1guOjIBA4PD6OzsxPd3d0YHR3F4uKiZFpVVSU2+oy6+2loupbe4erqakxMTGBqagpLS0upTNvb26UVbJOXl5cJdf4pOTc3V7Lksbm5WTKbnJxES0sL6urqEAwGMT4+LkDuNY8kR4Gl5F2VGd8AbSDAyspKaT6vl5WVCezg4ACHh4cIhUJyChoaGngDbRUgwoe6X+2sxTejvr4eQ0NDiEQiOD4+xvr6Oubm5rC3t4fz83PRzc0NotEo4vE4zs7OcHR0ZK+urnICfQadKVNddITDYScWi+Hx8VGMLy8vcX9/L853d3e4vb0VMfD6+hoXFxc4PT11np6e8PLyEj05OTH1bQnwBnx+flrswM4M0mIgi+e85p4T3Hp7e2Nwn5AAyIWmaJs/Pz9s/EvGjhviHllchbL5/f7+ZnDYzZLfF714KNrm19cXXl9fk2RskWwNcckmmEUlJhOJBJcdYl9W2v9Q06l3fnKKfXx8gJR8fn6WnrJ4/v7+nuQ1snlgW51ZJlCXL79z2slCKitITvukOOkPKcGB+ButDVxdXZluH/38BXl3pMODFsoqAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/36d76e77f734df007af98d1cabd833d8/b18f9/author.png","srcSet":"/static/36d76e77f734df007af98d1cabd833d8/fbc98/author.png 16w,\n/static/36d76e77f734df007af98d1cabd833d8/914ee/author.png 32w,\n/static/36d76e77f734df007af98d1cabd833d8/b18f9/author.png 64w","sizes":"(min-width: 64px) 64px, 100vw"},"sources":[{"srcSet":"/static/36d76e77f734df007af98d1cabd833d8/e8e20/author.avif 16w,\n/static/36d76e77f734df007af98d1cabd833d8/b6d61/author.avif 32w,\n/static/36d76e77f734df007af98d1cabd833d8/4f4ab/author.avif 64w","type":"image/avif","sizes":"(min-width: 64px) 64px, 100vw"},{"srcSet":"/static/36d76e77f734df007af98d1cabd833d8/e789a/author.webp 16w,\n/static/36d76e77f734df007af98d1cabd833d8/ef6ff/author.webp 32w,\n/static/36d76e77f734df007af98d1cabd833d8/a9ea7/author.webp 64w","type":"image/webp","sizes":"(min-width: 64px) 64px, 100vw"}]},"width":64,"height":65}}}}}},"pageContext":{"id":"eced1a19-65cd-58b2-a9e4-e06c8bb532fb","lang":"en","markupData":{"bannerTitle":"Well unknown facts","blogByAuthorBannerTitle":"Articles by the author","blogByHashtagBannerTitle":"Articles Featuring","head":"CodeCave Insights","readPostLink":"Open article","readingTimeTitle":"read","readingTimeUnits":"min","postFooterTitle":"Congratulations! Now you can show off with your new knowledge!","postFooterText":"If you want us to uncover some other Well unknown facts, you can contact us via the socials or e-mail below. See you!","sharePostTitle":"Share this post","readMoreOnTopicTitle":"Read more on","blogSectionTitle":"new in our blog","blogSectionLinkTitle":"all posts","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD1UlEQVR42pWUX0zTVxTHCwT501JKaWmBrsUV5N9gIixsuqgwlDCge7Hooli0yp9ZRR+0BdryxxU7oVCQgC3Kn1IMf0S3xLlMI2Mapw+a6JMGX9yMe3EPbvoimHw99xJJnIPpw82vub33ez7nnO89gqioKLzLkkqlkMvliI6O5r+XOid4FzEmFBkZiaCgIISFhSEiIoKLMvH3EnxNFRwcDI1GA4vFgry8PHyo1UIsFkMoFEImk71BvKQgOygSibiYXl+Ge/fu4+X8PC5f+hkOhwOmfSZkrc7ixOHh4Yu0gv+iYt+AgABotYnw+/2Ym5vDo0e/49zUJI47nejr7cXQ4BDcnW7UVNcgOzsbK1aEcGrBv6lYtNDQUOytrMTjx3/i+fNnuHv3DsbHx+AbHibRKTTa7XC1tWNsbAxdbjfG6Wsxm6GKVy0IMiGGHBgYiKysNbh48SeieoHZ2fu4dvVXDA0MwNXeDk9fH/wjI7h58wbOjI7CcsSMbncXBgdOw+v1ID09HQKWIqsD66KZojx58hf++fspZn6ZRmdHB4YHB9F+vA1ej4eo2jjZMUcrJscniK6LU/d0d6PJ3rggyCyQm5uLW7duY36eavXHQ/zw/Xn0e7041d/Pa+Y96eE0vmEfJicmUF1ZBVPNN+jt6eGp7qqoQN6GjdwJnDAjI4NHYh1sqKuDo+UoRkf8sFutOEkNsFlt2GUwoKW5mUjsGDh9Ctd/u4ZOlwtlej0+ycmBtb4BO7Zvh4DVLiQkBPFxcWhqbKRauehyBewNVkydPcvJeohk+so0Dpj2o+07J2ZmpvFgdhaObx3YuH49mumeTqdb6LJEIqHuxEOjVnPL6LdswYkT3TAfPgLDjnK0kud+vHAB9XX1VAIvX9VVVbyue4xGnhGzDXMGu79om5UJCUhOToaYapqelkYCdXAec2KvcQ8tI5ytrWhpaoKupBRRBJFDIpsKNkFNIEzsLWOLqcuMNjMjE6XFJRCSH4uKiqhuLZzyYG0t1n62Fh9RJ5kjNhcU4PN167hvme3eenrszUrooMGwE1/pSpFEr0ROB9UaNfabTCjcXEj12oBDtQfxRX4+PiVnlBQXLw6KNwTZBouUTw9/xOfj6bP91ZkfIykxkYgk2Fa2FUeJ1mazwWjcDZFQxJuw5LRh6SoUCqKSQ6P6AAlqDd9TqVT4eus2lJeXIzU1FV8WFiJOGcvT/t/xxQRer/jYOEpbC6VCSeWIgTJGgZSkVVDExCCS/pe+z4BlhxmBTBYNbcJKJCcmIS0lBbFKJQ+23AxddsCyywvCMkhYEE4mXVbwFQflxPovnsZUAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/b358397f973ed74732db29698c1773d1/30cdc/blog.png","srcSet":"/static/b358397f973ed74732db29698c1773d1/7458e/blog.png 75w,\n/static/b358397f973ed74732db29698c1773d1/de3a1/blog.png 150w,\n/static/b358397f973ed74732db29698c1773d1/30cdc/blog.png 300w","sizes":"(min-width: 300px) 300px, 100vw"},"sources":[{"srcSet":"/static/b358397f973ed74732db29698c1773d1/eb54c/blog.avif 75w,\n/static/b358397f973ed74732db29698c1773d1/81307/blog.avif 150w,\n/static/b358397f973ed74732db29698c1773d1/aa5b9/blog.avif 300w","type":"image/avif","sizes":"(min-width: 300px) 300px, 100vw"},{"srcSet":"/static/b358397f973ed74732db29698c1773d1/18188/blog.webp 75w,\n/static/b358397f973ed74732db29698c1773d1/c65bc/blog.webp 150w,\n/static/b358397f973ed74732db29698c1773d1/078c3/blog.webp 300w","type":"image/webp","sizes":"(min-width: 300px) 300px, 100vw"}]},"width":300,"height":300}}}},"site":{"siteUrl":"https://www.codecave.it","analytics":{"gtagId":"G-HPEX5BHBSJ","clarityId":"mrqkdfooez"},"commentsSetup":{"repo":"CodeCavePro/www.codecave.pro-new","repoId":"R_kgDOJv3s3g","categoryId":"DIC_kwDOJv3s3s4CgqzO"}},"authorAlias":"Zhmayev","authorId":"23a05467-9e8e-55ae-a8e5-1eb92b1c807d"}},"staticQueryHashes":["1512817958","2595676272","639074693"],"slicesMap":{}}