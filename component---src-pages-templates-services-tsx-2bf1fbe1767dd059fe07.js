"use strict";(self.webpackChunkcode_cave=self.webpackChunkcode_cave||[]).push([[417],{9153:function(e,t,n){n.r(t),n.d(t,{Head:function(){return L},default:function(){return T}});var i=n(7294),a=n(8032),r=n(4471),s=n.n(r),o=n(1929),l=n(1164),c=n(9165),u=n(4532),m=n(1312),d=n(917);var f=e=>{let{service:t,className:n}=e;const{html:i,frontmatter:{title:a,keywords:r,image:{publicURL:s}}}=t;return(0,d.tZ)("div",{className:`service-preview origin-[5%_50%] break-inside-avoid flex flex-col gap-5 sm:px-8 py-8 text-secondary-100 cursor-pointer ${n}`,itemScope:!0,itemType:"https://schema.org/Service"},(0,d.tZ)("div",{className:"flex items-center gap-5"},(0,d.tZ)("img",{src:s,alt:`${a} logo`,className:"invert h-10 w-10"}),(0,d.tZ)("h2",{className:"font-bold text-2xl",itemProp:"serviceType"},a)),(0,d.tZ)("div",{className:"text-base text-secondary-70",dangerouslySetInnerHTML:{__html:i},itemProp:"description"}),r?(0,d.tZ)("div",{className:"flex gap-2 flex-wrap w-full"},r.map((e=>(0,d.tZ)("p",{key:e,className:"h-8 flex items-center whitespace-nowrap px-4 bg-main-70 text-secondary-70 rounded-lg"},e)))):null)},v=n(7462);const p=e=>{let{service:t,className:n,...i}=e;const{frontmatter:{title:a,image:{publicURL:r}}}=t;return(0,d.tZ)("button",(0,v.Z)({"aria-label":"view service",className:`flex gap-5 min-h-10 items-center ${n}`,type:"button"},i),(0,d.tZ)("div",{className:"py-1.5"},(0,d.tZ)("img",{src:r,alt:`${a} logo`,className:"invert h-7 w-7"})),(0,d.tZ)("h2",{className:"hidden lg:block font-semibold text-lg text-secondary-100 text-start"},a))};function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h.apply(this,arguments)}function g(e,t){if(e.length!==t.length)throw new Error("vectors must be same length");return e.map((function(e,n){return e+t[n]}))}function x(e){return Math.max.apply(Math,e.map(Math.abs))}function b(e){return Object.freeze(e),Object.values(e).forEach((function(e){null===e||"object"!=typeof e||Object.isFrozen(e)||b(e)})),e}var M=[1,18,"undefined"!=typeof window&&window.innerHeight||800];var w=[-1,-1,-1];var y=function(e){return h({},e,{axisDelta:e.axisDelta.map((function(e){return t=e,n=-700,i=700,Math.min(Math.max(n,t),i);var t,n,i}))})},E=b({preventWheelAction:!0,reverseSign:[!0,!0,!1]}),S=400;function Z(){return{isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:S}}var k=function(e){void 0===e&&(e={});var t,n,i,a=function(){var e={};function t(t,n){e[t]=(e[t]||[]).filter((function(e){return e!==n}))}return b({on:function(n,i){return e[n]=(e[n]||[]).concat(i),function(){return t(n,i)}},off:t,dispatch:function(t,n){t in e&&e[t].forEach((function(e){return e(n)}))}})}(),r=a.on,s=a.off,o=a.dispatch,l=E,c=Z(),u=!1,m=function(e){Array.isArray(e)?e.forEach((function(e){return v(e)})):v(e)},d=function(e){return void 0===e&&(e={}),Object.values(e).some((function(e){return null==e}))?l:l=b(h({},E,l,e))},f=function(e){var i=h({event:t,isStart:!1,isEnding:!1,isMomentumCancel:!1,isMomentum:c.isMomentum,axisDelta:[0,0,0],axisVelocity:c.axisVelocity,axisMovement:c.axisMovement,get axisMovementProjection(){return g(i.axisMovement,i.axisVelocity.map((function(e){return void 0===t&&(t=.996),e*t/(1-t);var t})))}},e);o("wheel",h({},i,{previous:n})),n=i},v=function(e){var n,i,a,r,s=y(function(e,t){if(!t)return e;var n=!0===t?w:t.map((function(e){return e?-1:1}));return h({},e,{axisDelta:e.axisDelta.map((function(e,t){return e*n[t]}))})}((i=(n=e).deltaX*M[n.deltaMode],a=n.deltaY*M[n.deltaMode],r=(n.deltaZ||0)*M[n.deltaMode],{timeStamp:n.timeStamp,axisDelta:[i,a,r]}),l.reverseSign)),o=s.axisDelta,m=s.timeStamp,d=x(o);e.preventDefault&&function(e,t){var n=l.preventWheelAction,i=t[0],a=t[1],r=t[2];if("boolean"==typeof n)return n;switch(n){case"x":return Math.abs(i)>=e;case"y":return Math.abs(a)>=e;case"z":return Math.abs(r)>=e;default:return!1}}(d,o)&&e.preventDefault(),c.isStarted?c.isMomentum&&d>Math.max(2,2*c.lastAbsDelta)&&(O(!0),T()):T(),0===d&&Object.is&&Object.is(e.deltaX,-0)?u=!0:(t=e,c.axisMovement=g(c.axisMovement,o),c.lastAbsDelta=d,c.scrollPointsToMerge.push({axisDelta:o,timeStamp:m}),p(),f({axisDelta:o,isStart:!c.isStartPublished}),c.isStartPublished=!0,L())},p=function(){var e;2===c.scrollPointsToMerge.length?(c.scrollPoints.unshift({axisDeltaSum:c.scrollPointsToMerge.map((function(e){return e.axisDelta})).reduce(g),timeStamp:(e=c.scrollPointsToMerge.map((function(e){return e.timeStamp})),e.reduce((function(e,t){return e+t}))/e.length)}),k(),c.scrollPointsToMerge.length=0,c.scrollPoints.length=1,c.isMomentum||C()):c.isStartPublished||S()},S=function(){var e;c.axisVelocity=(e=c.scrollPointsToMerge,e[e.length-1]).axisDelta.map((function(e){return e/c.willEndTimeout}))},k=function(){var e=c.scrollPoints,t=e[0],n=e[1];if(n&&t){var i=t.timeStamp-n.timeStamp;if(!(i<=0)){var a=t.axisDeltaSum.map((function(e){return e/i})),r=a.map((function(e,t){return e/(c.axisVelocity[t]||1)}));c.axisVelocity=a,c.accelerationFactors.push(r),D(i)}}},D=function(e){var t=10*Math.ceil(e/10)*1.2;c.isMomentum||(t=Math.max(100,2*t)),c.willEndTimeout=Math.min(1e3,Math.round(t))},N=function(e){return 0===e||e<=.96&&e>=.6},C=function(){if(c.accelerationFactors.length>=5){if(u&&(u=!1,x(c.axisVelocity)>=.2))return void P();var e=c.accelerationFactors.slice(-5);e.every((function(e){var t=!!e.reduce((function(e,t){return e&&e<1&&e===t?1:0})),n=e.filter(N).length===e.length;return t||n}))&&P(),c.accelerationFactors=e}},P=function(){c.isMomentum=!0},T=function(){(c=Z()).isStarted=!0,c.startTime=Date.now(),n=void 0,u=!1},L=function(){clearTimeout(i),i=setTimeout(O,c.willEndTimeout)},O=function(e){void 0===e&&(e=!1),c.isStarted&&(c.isMomentum&&e?f({isEnding:!0,isMomentumCancel:!0}):f({isEnding:!0}),c.isMomentum=!1,c.isStarted=!1)},A=function(e){var t=[],n=function(n){n.removeEventListener("wheel",e),t=t.filter((function(e){return e!==n}))};return b({observe:function(i){return i.addEventListener("wheel",e,{passive:!1}),t.push(i),function(){return n(i)}},unobserve:n,disconnect:function(){t.forEach(n)}})}(m),j=A.observe,F=A.unobserve,V=A.disconnect;return d(e),b({on:r,off:s,observe:j,unobserve:F,disconnect:V,feedWheel:m,updateOptions:d})},D={active:!0,breakpoints:{},wheelDraggingClass:"is-wheel-dragging",forceWheelAxis:void 0,target:void 0};C.globalOptions=void 0;var N=!1;function C(e){var t;void 0===e&&(e={});var n=function(){};return{name:"wheelGestures",options:e,init:function(i,a){var r,s,o=a.mergeOptions,l=a.optionsAtMedia,c=o(D,C.globalOptions),u=o(c,e);t=l(u);var m,d=i.internalEngine(),f=null!=(r=t.target)?r:i.containerNode().parentNode,v=null!=(s=t.forceWheelAxis)?s:d.options.axis,p=k({preventWheelAction:v,reverseSign:[!0,!0,!1]}),h=p.observe(f),g=p.on("wheel",(function(e){var i=e.axisDelta,a=i[0],r=i[1],s="x"===v?a:r,o="x"===v?r:a,l=e.isMomentum&&e.previous&&!e.previous.isMomentum,c=e.isEnding&&!e.isMomentum||l;Math.abs(s)>Math.abs(o)&&!x&&!e.isMomentum&&function(e){try{y(m=new MouseEvent("mousedown",e.event))}catch(i){return N&&console.warn("Legacy browser requires events-polyfill (https://github.com/xiel/embla-carousel-wheel-gestures#legacy-browsers)"),n()}x=!0,document.documentElement.addEventListener("mousemove",M,!0),document.documentElement.addEventListener("mouseup",M,!0),void document.documentElement.addEventListener("mousedown",M,!0),t.wheelDraggingClass&&f.classList.add(t.wheelDraggingClass)}(e);if(!x)return;c?function(e){x=!1,y(w("mouseup",e)),b(),t.wheelDraggingClass&&f.classList.remove(t.wheelDraggingClass)}(e):y(w("mousemove",e))})),x=!1;function b(){document.documentElement.removeEventListener("mousemove",M,!0),document.documentElement.removeEventListener("mouseup",M,!0),document.documentElement.removeEventListener("mousedown",M,!0)}function M(e){x&&e.isTrusted&&e.stopImmediatePropagation()}function w(e,t){var n,i;if(v===d.options.axis){var a=t.axisMovement;n=a[0],i=a[1]}else{var r=t.axisMovement;i=r[0],n=r[1]}if(!d.options.skipSnaps&&!d.options.dragFree){var s=d.containerRect.width,o=d.containerRect.height;n=n<0?Math.max(n,-s):Math.min(n,s),i=i<0?Math.max(i,-o):Math.min(i,o)}return new MouseEvent(e,{clientX:m.clientX+n,clientY:m.clientY+i,screenX:m.screenX+n,screenY:m.screenY+i,movementX:n,movementY:i,button:0,bubbles:!0,cancelable:!0,composed:!0})}function y(e){i.containerNode().dispatchEvent(e)}n=function(){h(),g(),b()}},destroy:function(){return n()}}}var P=e=>{let{services:t}=e;const[n,a]=(0,m.Z)({axis:"y",loop:!0,align:"center"},[C()]),r=(0,i.useRef)(0),s=(0,i.useRef)([]),{selectedIndex:o,onServiceButtonClick:l}=((e,t)=>{const{0:n,1:a}=(0,i.useState)(0),r=(0,i.useCallback)((n=>{e&&(e.scrollTo(n),t&&t(e))}),[e,t]),s=(0,i.useCallback)((e=>{a(e.selectedScrollSnap())}),[]);return(0,i.useEffect)((()=>{e&&(s(e),e.on("reInit",s).on("select",s))}),[e,s]),{selectedIndex:n,onServiceButtonClick:r}})(a),c=(0,i.useCallback)((e=>{s.current=e.slideNodes().map((e=>e.querySelector(".service-preview")))}),[]),u=(0,i.useCallback)((e=>{r.current=.2*e.scrollSnapList().length}),[]),v=(0,i.useCallback)(((e,t)=>{const n=e.internalEngine(),i=e.scrollProgress(),a=e.slidesInView(),o="scroll"===t;e.scrollSnapList().forEach(((e,t)=>{let l=e-i;n.slideRegistry[t].forEach((t=>{if(o&&!a.includes(t))return;n.options.loop&&n.slideLooper.loopPoints.forEach((n=>{const a=n.target();if(t===n.index&&0!==a){const t=Math.sign(a);-1===t&&(l=e-(1+i)),1===t&&(l=e+(1-i))}}));const c=1-Math.abs(l*r.current),u=(m=c,d=0,f=1,Math.min(Math.max(m,d),f));var m,d,f;s.current[t].style.transform=`scale(${u})`}))}))}),[]);return(0,i.useEffect)((()=>{a&&(c(a),u(a),v(a),a.on("reInit",c).on("reInit",u).on("reInit",v).on("scroll",v).on("slideFocus",v))}),[a,v]),(0,d.tZ)(i.Fragment,null,(0,d.tZ)("div",{className:"hidden sm:flex flex-col gap-5 p-8 lg:basis-[410px] shrink-0"},t?t.map(((e,t)=>(0,d.tZ)(p,{key:`dot-${e.id}`,service:e,onClick:()=>l(t),className:""+(t===o?"":"brightness-[0.4] hover:brightness-100")}))):null),(0,d.tZ)("div",{ref:n,className:"hidden sm:block overflow-hidden basis-full"},(0,d.tZ)("div",{style:{backfaceVisibility:"hidden"},className:"flex flex-col touch-pan-x h-[1000px] sm:h-[900px] md:h-[750px]"},t?t.map(((e,t)=>(0,d.tZ)("div",{key:e.id,onClick:()=>l(t),className:"grow-0 shrink-0 basis-1/3 min-h-0 select-none flex items-center"},(0,d.tZ)(f,{service:e,className:"select-none "+(t===o?"":"brightness-[0.4]")})))):null)))};var T=e=>{var t;let{data:n,pageContext:{markupData:r,lang:c}}=e;const m=null===(t=n.allMarkdownRemark)||void 0===t?void 0:t.nodes,v=(0,a.c)(r.image);return(0,d.tZ)(i.Fragment,null,(0,d.tZ)(o.Z,{heightClass:"lg:h-99",title:r.bannerTitle,image:v}),(0,d.tZ)("div",{className:"bg-main-100"},(0,d.tZ)(l.Z,{maxWidthClass:"max-w-[1280px]",className:"flex flex-col sm:flex-row items-start sm:justify-end py-6 sm:py-10 lg:!px-20 gap-0 sm:gap-5 lg:gap-[48px]"},m?(0,d.tZ)(P,{services:m}):null,m?m.map(((e,t)=>(0,d.tZ)(f,{key:e.id,service:e,className:"sm:hidden select-none"}))):null)),(0,d.tZ)(s(),{className:"w-full"}),(0,d.tZ)(u.Z,{lang:c}))};const L=e=>{let{pageContext:{markupData:t,site:n,lang:a},location:r}=e;return(0,d.tZ)(i.Fragment,null,(0,d.tZ)(c.Ag,{title:`${t.head} | ${t.bannerTitle.toUpperCase()}`,description:n.description,siteUrl:n.siteUrl,path:r.pathname,lang:a}))}}}]);
//# sourceMappingURL=component---src-pages-templates-services-tsx-2bf1fbe1767dd059fe07.js.map